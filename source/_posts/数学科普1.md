---
title: 数学科普一：平均数
date: 2021-03-12 20:33:33
tags:
    - 函数导数
    - 数学分析
    - 算术平均数
    - 几何平均数
    - 调和平均数
categories: 数学
mathjax: true
---

假设两个正数$a,b$，我们知道$\frac{a+b}{2}$称为算术平均数，$\sqrt{ab}$称为几何平均数，$\frac{2}{a^{-1}+b^{-1}}$称为调和平均数。对于任意$n$个正数也有同样的定义，观察到算术平均数为$\left(\frac{a^{1}+b^{1}}{2}\right)^1$，调和平均数为$\left(\frac{a^{-1}+b^{-1}}{2}\right)^{-1}$，可以猜想一类平均数的定义。

#### 定义1：$s$阶平均数
> 设$a_1,a_2,\cdots,a_n$是$n$个正数，定义
$$
    f(s) = \left\{ 
        \begin{aligned}
            & \left(\frac{a_1^s+a_2^s+\cdots+a_n^s}{n}\right)^{1/s} & \quad s \ne 0  \\
            & \sqrt[n]{a_1a_2\cdots a_n} & \quad s = 0
        \end{aligned} 
        \right.
$$
称$f(s)$为这$n$个正数的$s$阶平均数。


#### 定理1
> 设$a_1,a_2,\cdots,a_n$是$n$个正数，则这$n$个数的$s$阶平均数$f(s)$是关于$s$在$(-\infty,+\infty)$上的连续函数。且
$$
    \begin{aligned}
        \lim \limits_{s \to +\infty} f(s) = \max(a_1,a_2,\cdots,a_n) \\
        \lim \limits_{s \to -\infty} f(s) = \min(a_1,a_2,\cdots,a_n)
    \end{aligned}
$$

证：先证$f(s)$是连续函数。由于分段函数的两段都是初等函数，所以只需要证明$f(s)$在$s=0$处连续，即可。而
$$
    \begin{aligned}
        \lim \limits_{s \to 0} \left(\frac{a_1^s+a_2^s+\cdots+a_n^s}{n}\right)^{1/s} & = \lim\limits_{s \to 0} e^{\frac{1}{s} \ln\left(\frac{a_1^s-1 + a_2^s - 1 + \cdots + a_n^s-1 + n}{n}\right)} \\
        & = \lim\limits_{s \to 0} e^{\frac{1}{s} \ln \left(1 + \frac{a_1^s-1}{n} + \frac{a_2^s-1}{n} + \cdots + \frac{a_n^s-1}{n} \right)} \\
        & = \lim\limits_{s \to 0} e^{\frac{1}{n} \left(\frac{a_1^s-1}{s} + \frac{a_2^s-1}{s} + \cdots + \frac{a_n^s-1}{s} \right)} \\
        & = e^{\frac{1}{n} \ln(a_1a_2\cdots a_n)} = \sqrt[n]{a_1a_2\cdots a_n}
    \end{aligned}
$$
所以$f(s)$是连续的。<br/>
再证后半段。不妨设$p = \max(a_1,a_2,\cdots,a_n)$，从而当$s > 0$时，有
$$
    \left(\frac{p^s}{n}\right)^{1/s} \le \left(\frac{a_1^s+a_2^s+\cdots+a_n^s}{n}\right)^{1/s} \le \left(\frac{p^s+p^s+\cdots+p^s}{n}\right)^{1/s} = p
$$
而
$$
    \lim \limits_{s \to +\infty} \left(\frac{p^s}{n}\right)^{1/s}  = p
$$
所以
$$
    \lim \limits_{s \to +\infty} f(s) = p = \max(a_1,a_2,\cdots,a_n) 
$$
同样设$q = \min(a_1,a_2,\cdots,a_n)$，当$s < 0$时，有
$$
    \left(\frac{q^s}{n}\right)^{1/s} \ge \left(\frac{a_1^s+a_2^s+\cdots+a_n^s}{n}\right)^{1/s} \ge \left(\frac{q^s+q^s+\cdots+q^s}{n}\right)^{1/s} = q
$$
而
$$
    \lim \limits_{s \to -\infty} \left(\frac{q^s}{n}\right)^{1/s}  = q
$$
所以
$$
    \lim \limits_{s \to -\infty} f(s) = q = \min(a_1,a_2,\cdots,a_n)
$$

Q.E.D.


#### 定理2
> 设$a_1,a_2,\cdots,a_n$是$n$个正数，则这$n$个数的$s$阶平均数$f(s)$是$(-\infty,+\infty)$上的递增函数。若$a_1,a_2,\cdots,a_n$不全相等，则$f(s)$是$(-\infty,+\infty)$上的严格递增函数。

证：先设$0 < \alpha < \beta$，我们证明$f(\alpha) \le f(\beta)$，即
$$
    \left(\frac{a_1^\alpha+a_2^\alpha+\cdots+a_n^\alpha}{n} \right)^{1/\alpha} \le \left(\frac{a_1^\beta + a_2^\beta + \cdots+ a_n^\beta}{n}\right)^{1/\beta}
$$
记$g(x) = x^m (x > 0)$，则$g^\prime(x) = m x^{m-1}$，$g^{\prime\prime}(x) = m(m-1)x^{m-2}$，当$m > 1$时，知$g(x)$是凸函数，从而由[函数导数五的定理7](https://gamersover.github.io/2021/03/08/%E5%87%BD%E6%95%B0%E5%AF%BC%E6%95%B05/#%E5%AE%9A%E7%90%867)可知，有
$$
    g\left(\frac{x_1}{n} + \frac{x_2}{n} + \cdots + \frac{x_n}{n}\right) \le \frac{g(x_1)+g(x_2)+\cdots+g(x_n)}{n}
$$
即
$$
    \left(\frac{x_1+x_2+\cdots+x_n}{n} \right)^m \le \frac{x_1^m + x_2^m + \cdots+ x_n^m}{n} \tag 1
$$
令$x_i = a_i^\alpha, m = \beta / \alpha > 1$，代入上式得
$$
    \left(\frac{a_1^\alpha+a_2^\alpha+\cdots+a_n^\alpha}{n} \right)^{\beta / \alpha} \le \frac{a_1^\beta + a_2^\beta + \cdots+ a_n^\beta}{n}
$$
即
$$
    \left(\frac{a_1^\alpha+a_2^\alpha+\cdots+a_n^\alpha}{n} \right)^{1/\alpha} \le \left(\frac{a_1^\beta + a_2^\beta + \cdots+ a_n^\beta}{n}\right)^{1/\beta} \tag 2
$$
再设$\alpha < \beta < 0$，我们证明$f(\alpha) < f(\beta)$。由于$-\alpha > -\beta > 0$，这时设$n$个正数为$a_1^{-1},a_2^{-1},\cdots,a_n^{-1}$，并令$x_i = (a_i^{-1})^{-\beta}, m = (-\alpha) / (-\beta) > 1$，代入(1)式得
$$
    \left(\frac{a_1^{\beta}+a_2^{\beta}+\cdots+a_n^{\beta}}{n} \right)^{-\alpha / -\beta} \le \frac{a_1^{\alpha} + a_2^{\alpha} + \cdots+ a_n^{\alpha}}{n}
$$
即
$$
    \left(\frac{a_1^{\beta}+a_2^{\beta}+\cdots+a_n^{\beta}}{n} \right)^{-1 / \beta} \le \left(\frac{a_1^{\alpha} + a_2^{\alpha} + \cdots+ a_n^{\alpha}}{n} \right)^{-1 / \alpha}
$$
进一步化简得
$$
    \left(\frac{a_1^{\alpha} + a_2^{\alpha} + \cdots+ a_n^{\alpha}}{n} \right)^{1 / \alpha} \le \left(\frac{a_1^{\beta}+a_2^{\beta}+\cdots+a_n^{\beta}}{n} \right)^{1 / \beta} \tag 3
$$
最后证明$f(\alpha) < f(0) < f(\beta)$，其中$\alpha < 0 < \beta$。在(2)式中令$\alpha \to 0^+$，得$\sqrt[n]{a_1a_2\cdots a_n} \le f(\beta)$；在(3)式中令$\beta \to 0^-$，得$f(\alpha) < \sqrt[n]{a_1a_2\cdots a_n}$。从而$f(s)$是$(-\infty,+\infty)上的递增函数。<br/>

而上面所有等式成立的充分必要条件是$a_1=a_2=\cdots=a_n$。所以当$a_1,a_2,\cdots,a_n$不全相等时，$f(s)$是$(-\infty,+\infty)$上的严格递增函数。

Q.E.D.


#### 总结
从上面分析易知调和平均数是$-1$阶平均数，几何平均数是$0$阶平均数，算术平均数是$1$阶平均数；且有调和平均数$<$几何平均数$<$算术平均数。
